---
layout: post
title:  "命令行无法访问github"
category: dev
---

一开始是直接使用VSCode登录github账号，利用同步功能提交代码。在使用的时候，发现经常会有同步失败的情况，终于在某一天彻底无法使用了，一直报错：Git: fatal: unable to access Recv failure: Connection reset by peer

尝试在github上配置SSH密钥，通过命令行来提交代码，发现`git push` 和`git pull`命令都会报错。在网上搜索了一圈后，也没有解决问题，最后是通过Kimi成功解决。以下是解决步骤：

git clone git@github.com:niceyangyizhi/HowToCook.git
Cloning into 'HowToCook'...
kex_exchange_identification: read: Connection reset by peer
Connection reset by 20.205.243.166 port 22
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists. 如何解决

说明你的网络环境 阻止了 GitHub 的 SSH 默认端口 22，导致连接被远程主机中断。这个问题在国内网络环境中非常常见，尤其是公司、校园或某些运营商网络。
✅ 最推荐的解决方案：改用端口 443（SSH over HTTPS）
GitHub 提供了 备用 SSH 端口 443，通常不会被防火墙拦截。
✅ 步骤如下：
1. 测试端口 443 是否可用
在终端运行：
bash
复制
ssh -T -p 443 git@ssh.github.com
如果返回：
Hi <your-username>! You've successfully authenticated, but GitHub does not provide shell access.
说明端口 443 可用，可以继续下一步。
2. 修改 SSH 配置，强制使用端口 443
编辑或新建文件 ~/.ssh/config：
bash
复制
vim ~/.ssh/config
添加以下内容：
ssh
复制
Host github.com
  HostName ssh.github.com
  Port 443
  User git
  IdentityFile ~/.ssh/id_rsa
如果你使用的是其他密钥文件名，请替换 id_rsa 为你的实际密钥文件名。
3. 再次尝试克隆仓库
bash
复制
git clone git@github.com:niceyangyizhi/HowToCook.git
此时应该可以成功克隆仓库。